name: Test
run-name: Check The Norm
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
    - run: |
          python3 -m pip install --upgrade pip setuptools
          python3 -m pip install norminette\
    - name: Check out repository code
      uses: actions/checkout@v4
    - run: norminette ${{ github.workspace }}
    - run: norminette ${{ github.workspace }} > errors.txt
    - run: ls -l ${{ github.workspace }}
    - run: ls -l
    - run: cat errors.txt
    - run: |
            ERR=$(grep Error errors.txt | wc -l)
            if [[ $ERR -gt 0 ]]
            then
              cat errors.txt
              exit 1
            fi
